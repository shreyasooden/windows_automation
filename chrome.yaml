
    - name: Get Windows host IP
      set_fact:
        host_ip: "{{ ansible_host | default(ansible_default_ipv4.address) }}"
    - name: Set fact for installed chrome version
      set_fact:
       chrome_current_version: "12.10.10.1"
    - name: Set fact for downloaded chrome  version
      set_fact:
       chrome_installer_version: "12.20.10.1"
    - name: Compare chrome versions
      set_fact:
        chrome_comparison: >-
          {% if chrome_installer_version is version(chrome_current_version, '>') %}
             greater
          {% elif chrome_installer_version is version(chrome_current_version, '<') %}
             lesser
          {% else %}
            {{ chrome_installer_version }} and {{ chrome_current_version }} are the same
          {% endif %}
      when:
        - chrome_current_version != ""

    - name: print
      debug:
          msg: "{{ chrome_comparison }}"
      when:
        - chrome_current_version != ""

    - name: print for installation
      debug:
          msg: "chrome package will be installed"
      when: chrome_current_version != "" and chrome_comparison is search ("greater")
      register: upgrade_status
    - name: Set upgrade status fact
      set_fact:
        upgrade_status: >-
          {% if upgrade_result is defined and upgrade_result.changed %}
          yes
          {% else %}
          na
          {% endif %}


  
